<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Graphical posterior predictive checking — PPC-overview • bayesplot</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Graphical posterior predictive checking — PPC-overview" />

<meta property="og:description" content="The bayesplot PPC module provides various plotting functions for
creating graphical displays comparing observed data to simulated data from
the posterior predictive distribution. See below for a brief discussion of
the ideas behind posterior predictive checking, a description of the
structure of this package, and tips on providing an interface to
bayesplot from another package." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bayesplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://mc-stan.org/rstan">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/projpred">projpred</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/bayesplot">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Graphical posterior predictive checking</h1>
    
    <div class="hidden name"><code>PPC-overview.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The <span class="pkg">bayesplot</span> PPC module provides various plotting functions for
creating graphical displays comparing observed data to simulated data from
the posterior predictive distribution. See below for a brief discussion of
the ideas behind posterior predictive checking, a description of the
structure of this package, and tips on providing an interface to
<span class="pkg">bayesplot</span> from another package.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The idea behind posterior predictive checking is simple: if a model is a good
fit then we should be able to use it to generate data that looks a lot like
the data we observed.</p>
<h3>Posterior predictive distribution</h3>
    To generate the data used for posterior predictive checks we simulate from
the <em>posterior predictive distribution</em>. The posterior predictive
distribution is the distribution of the outcome variable implied by a model
after using the observed data \(y\) (a vector of outcome values), and
typically predictors \(X\), to update our beliefs about the unknown
parameters \(\theta\) in the model. For each draw of the parameters
\(\theta\) from the posterior distribution \(p(\theta \,|\, y,
X)\) we generate an entire vector of outcomes. The result is
an \(S \times N\) matrix of simulations, where \(S\) is the the
size of the posterior sample (number of draws from the posterior
distribution) and \(N\) is the number of data points in \(y\). That is,
each row of the matrix is an individual "replicated" dataset of \(N\)
observations.
    <h3>Notation</h3>
    When simulating from the posterior predictive distribution we can use either
the same values of the predictors \(X\) that we used when fitting the model
or new observations of those predictors. When we use the same values of
\(X\) we denote the resulting simulations by \(y^{rep}\) as they
can be thought of as <em>replications</em> of the outcome \(y\) rather than
predictions for future observations. This corresponds to the notation from
Gelman et. al. (2013) and is the notation used throughout the documentation
for this package.
    <h3>Graphical posterior predictive checking</h3>
    Using the datasets \(y^{rep}\) drawn from the posterior predictive
distribution, the functions in the <span class="pkg">bayesplot</span> package produce various
graphical displays comparing the observed data \(y\) to the replications.
For a more thorough discussion of posterior predictive checking see
Chapter 6 of Gelman et. al. (2013).
    
    <h2 class="hasAnchor" id="ppc-plotting-functions"><a class="anchor" href="#ppc-plotting-functions"></a>PPC plotting functions</h2>

    
    <p>The plotting functions for posterior predictive checking in this package are
organized into several categories, each with its own documentation:</p>
<dl class='dl-horizontal'>
  <dt><strong><a href='PPC-distributions.html'>Distributions</a></strong></dt><dd><p>Histograms, kernel density estimates, boxplots, and other plots comparing
    the empirical distribution of the observed data <code>y</code> to the
    distributions of individual replicated datasets (rows) in <code>yrep</code>.</p></dd>
  <dt><strong><a href='PPC-test-statistics.html'>Test statistics</a></strong></dt><dd><p>The distribution of a test statistic, or a pair of test statistics, over
    the replicated datasets (rows) in <code>yrep</code> compared to value of the
    statistic(s) computed from <code>y</code>.</p></dd>
  <dt><strong><a href='PPC-intervals.html'>Intervals</a></strong></dt><dd><p>Interval estimates of <code>yrep</code> with <code>y</code> overlaid. The x-axis
    variable can be optionally specified by the user (e.g. to plot against
    against a predictor variable or over time).</p></dd>
  <dt><strong><a href='PPC-errors.html'>Predictive errors</a></strong></dt><dd><p>Plots of predictive errors (<code>y - yrep</code>) computed from <code>y</code> and
    replicated datasets (rows) in <code>yrep</code>. For binomial models binned
    error plots are also available.</p></dd>
  <dt><strong><a href='PPC-scatterplots.html'>Scatterplots</a></strong></dt><dd><p>Scatterplots (and similar visualizations) of the observed data <code>y</code>
    vs. individual replicated datasets (rows) in <code>yrep</code>, or vs. the
    average value of the distributions of each data point (columns) in
    <code>yrep</code>.</p></dd>
  <dt><strong><a href='PPC-discrete.html'>Plots for discrete outcomes</a></strong></dt><dd><p>PPC functions that can only be used if <code>y</code> and <code>yrep</code> are
    discrete. For example, rootograms for count outcomes and bar
    plots for ordinal, categorical, and multinomial outcomes.</p></dd>
  <dt><strong><a href='PPC-loo.html'>LOO predictive checks</a></strong></dt><dd><p>PPC functions for predictive checks based on (approximate) leave-one-out
    (LOO) cross-validation.</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="providing-an-interface-for-posterior-predictive-checking-from-another-package"><a class="anchor" href="#providing-an-interface-for-posterior-predictive-checking-from-another-package"></a>Providing an interface for posterior predictive checking from another package</h2>

    
    <p>In addition to the various plotting functions, the <span class="pkg">bayesplot</span> package
provides the S3 generic <code><a href='pp_check.html'>pp_check</a></code>. Authors of <span style="R">R</span> packages for
Bayesian inference are encouraged to define <code>pp_check</code> methods for the
fitted model objects created by their packages. See the package vignettes for
more details and a simple example, and see the <span class="pkg">rstanarm</span> and <span class="pkg">brms</span>
packages for full examples of <code>pp_check</code> methods.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gabry, J., Simpson, D., Vehtari, A., Betancourt, M., and Gelman,
  A. (2018). Visualization in Bayesian workflow. <em>Journal of the Royal
  Statistical Society Series A</em>, accepted for publication. arXiv preprint:
  <a href='http://arxiv.org/abs/1709.01449'>http://arxiv.org/abs/1709.01449</a>.</p>
<p>Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari,
  A., and Rubin, D. B. (2013). <em>Bayesian Data Analysis.</em> Chapman &amp; Hall/CRC
  Press, London, third edition. (Ch. 6)</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other PPCs: <code><a href='PPC-discrete.html'>PPC-discrete</a></code>,
  <code><a href='PPC-distributions.html'>PPC-distributions</a></code>,
  <code><a href='PPC-errors.html'>PPC-errors</a></code>, <code><a href='PPC-intervals.html'>PPC-intervals</a></code>,
  <code><a href='PPC-loo.html'>PPC-loo</a></code>, <code><a href='PPC-scatterplots.html'>PPC-scatterplots</a></code>,
  <code><a href='PPC-test-statistics.html'>PPC-test-statistics</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#ppc-plotting-functions">PPC plotting functions</a></li>

      <li><a href="#providing-an-interface-for-posterior-predictive-checking-from-another-package">Providing an interface for posterior predictive checking from another package</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Tristan Mahr.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

